# JavaScript総合演習：家計簿ダッシュボード開発

## 1. 概要
家計簿データを画面に表示し、集計結果を確認できる「家計簿ダッシュボード」を作成します。
この演習では、DOM操作、イベント処理、配列操作（反復・フィルタリング）、Bootstrapを使用したレイアウト構築を実践します。

## 2. 要件定義

### 2.1 機能要件
1.  **取引一覧の表示**:
    - 用意された家計簿データ（配列）をテーブル形式で表示してください。
    - 日付、項目、金額、収支種別を表示します。
2.  **集計機能**:
    - 全データの「収入合計」「支出合計」「残高（収入 - 支出）」を計算し、画面上部に表示してください。
    - フィルタリング中であっても、集計は常に**「全データ」**を対象に行います。
3.  **フィルタリング機能**:
    - 画面上のボタン（すべて / 収入 / 支出）を押すことで、一覧表示を切り替えてください。
    - 「収入」ボタン: `type` が `income` のデータのみ表示。
    - 「支出」ボタン: `type` が `expense` のデータのみ表示。
    - 「すべて」ボタン: 全データを表示（初期状態）。

### 2.2 デザイン・技術要件
- **Bootstrap 5**:
    - レイアウト（グリッドシステム、カード、テーブル）は `index.html` に**実装済み**です。
    - JavaScriptを使って、条件に応じて適切なBootstrapクラス（例: `text-primary`, `text-danger`）を要素に付与してください。
- **スタイル詳細**:
    - 金額の表示色:
        - 収入 (`income`): 文字色を青にするBootstrapクラス `text-primary` を付与。
        - 支出 (`expense`): 文字色を赤にするBootstrapクラス `text-danger` を付与。
    - 独自のスタイルが必要な場合は `style.css` に定義してください（今回はほぼ不要です）。

## 3. 配布ファイル構成
```
expense_dashboard/
├── index.html   (HTML雛形：Bootstrap読込済み、レイアウト骨子のみ)
├── style.css    (空のスタイルシート)
└── script.js    (データ定義済み、ロジックは未実装)
```

## 4. データ構造
`script.js` 内に以下の形式の配列 `transactions` が定義されています。この変数を使用してください。

```javascript
const transactions = [
    { id: 1, date: "2024-02-01", item: "給料", amount: 250000, type: "income" },
    { id: 2, date: "2024-02-02", item: "食費", amount: 3500, type: "expense" },
    // ...
];
```
- `type`: `"income"` (収入) または `"expense"` (支出)

## 5. 実装ステップ

### Step 1: 初期表示の実装
1.  `script.js` に `renderList(data)` 関数を作成します。
2.  配列データを受け取り、HTMLのテーブル（`#transaction-list`）内に `<tr>` 要素を生成して挿入してください。
3.  **Bootstrapクラスの適用**:
    - 金額を表示する要素には、`type` が `"income"` なら `text-primary`、`"expense"` なら `text-danger` クラスを付与してください。
    - 金額のカラムは右寄せにするため `text-end` クラス等を付与すると綺麗です。
4.  ページ読み込み時にこの関数を実行し、初期データが表示されることを確認します。

### Step 2: 集計機能の実装
1.  `script.js` に `calculateSummary(data)` 関数を作成します。
2.  配列データをループ（または `reduce` 等を使用）して、総収入・総支出を計算します。
3.  残高（総収入 - 総支出）を計算します。
4.  計算結果を画面上の各要素（`#income-total`, `#expense-total`, `#balance-total`）に反映させます。

### Step 3: フィルタリング機能の実装
1.  `script.js` に `filterTransactions(type)` 関数を作成します。
2.  引数 `type`（'all' | 'income' | 'expense'）に応じて、`transactions` 配列をフィルタリングします。
3.  フィルタリングされた新しい配列を `renderList()` に渡して再描画します。
    - **注意**: `calculateSummary()` は呼び出さない、または呼び出すとしても元の全データを渡すようにします（集計値を変えないため）。
4.  HTMLの各ボタンにイベントリスナーを設定し、クリック時にこの関数を呼び出してください。

## 6. ヒント
- 金額のカンマ区切りには `Number(amount).toLocaleString()` を使うと便利です。
- リストを更新する際は、一度 `tbody` の中身を空（`innerHTML = ""`）にしてから再構築するのが簡単です。
